{"version":3,"sources":["../../../src/utils/index.ts"],"sourcesContent":["import { PublicLogger } from \"../logger/logger\";\nimport { addLivePreviewQueryTags } from \"./addLivePreviewQueryTags\";\nexport function hasWindow(): boolean {\n    return typeof window !== \"undefined\";\n}\nexport { addLivePreviewQueryTags };\nexport function addParamsToUrl() {\n    // Setting the query params to all the click events related to current domain\n    window.addEventListener(\"click\", (event: any) => {\n        const clickedElement = event.target;\n        const anchorElement = clickedElement.closest('a');\n        \n        // Only proceed if the clicked element is either an anchor or a direct/indirect child of an anchor\n        if (!anchorElement || !anchorElement.contains(clickedElement)) {\n            return;\n        }\n\n        const targetHref: string | any = anchorElement.href;\n        const docOrigin: string = document.location.origin;\n        if (\n            targetHref &&\n            targetHref.includes(docOrigin) &&\n            !targetHref.includes(\"live_preview\")\n        ) {\n            const newUrl = addLivePreviewQueryTags(targetHref);\n            anchorElement.href = newUrl || targetHref;\n        }\n    });\n}\nexport function isOpeningInTimeline(): boolean {\n    if (hasWindow()) {\n        const urlParams = new URLSearchParams(window.location.search);\n        const previewTimestamp = urlParams.get(\"preview_timestamp\");\n        return !!previewTimestamp;\n    }\n    return false;\n}\n\nexport function isOpenInBuilder(): boolean {\n    if (hasWindow()) {\n        const urlParams = new URLSearchParams(window.location.search);\n        const builder = urlParams.get(\"builder\");\n        return !!builder;\n    }\n    return false;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,qCAAwC;AACjC,SAAS,YAAqB;AACjC,SAAO,OAAO,WAAW;AAC7B;AAEO,SAAS,iBAAiB;AAE7B,SAAO,iBAAiB,SAAS,CAAC,UAAe;AAC7C,UAAM,iBAAiB,MAAM;AAC7B,UAAM,gBAAgB,eAAe,QAAQ,GAAG;AAGhD,QAAI,CAAC,iBAAiB,CAAC,cAAc,SAAS,cAAc,GAAG;AAC3D;AAAA,IACJ;AAEA,UAAM,aAA2B,cAAc;AAC/C,UAAM,YAAoB,SAAS,SAAS;AAC5C,QACI,cACA,WAAW,SAAS,SAAS,KAC7B,CAAC,WAAW,SAAS,cAAc,GACrC;AACE,YAAM,aAAS,wDAAwB,UAAU;AACjD,oBAAc,OAAO,UAAU;AAAA,IACnC;AAAA,EACJ,CAAC;AACL;AACO,SAAS,sBAA+B;AAC3C,MAAI,UAAU,GAAG;AACb,UAAM,YAAY,IAAI,gBAAgB,OAAO,SAAS,MAAM;AAC5D,UAAM,mBAAmB,UAAU,IAAI,mBAAmB;AAC1D,WAAO,CAAC,CAAC;AAAA,EACb;AACA,SAAO;AACX;AAEO,SAAS,kBAA2B;AACvC,MAAI,UAAU,GAAG;AACb,UAAM,YAAY,IAAI,gBAAgB,OAAO,SAAS,MAAM;AAC5D,UAAM,UAAU,UAAU,IAAI,SAAS;AACvC,WAAO,CAAC,CAAC;AAAA,EACb;AACA,SAAO;AACX;","names":[]}