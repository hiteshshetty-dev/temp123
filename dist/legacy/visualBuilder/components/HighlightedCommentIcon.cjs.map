{"version":3,"sources":["../../../../src/visualBuilder/components/HighlightedCommentIcon.tsx"],"sourcesContent":["import { h } from \"preact\";\nimport { VNode } from \"preact\";\nimport { HighlightCommentIcon } from \"./icons\";\nimport React from \"preact/compat\";\nimport visualBuilderPostMessage from \"../utils/visualBuilderPostMessage\";\nimport { VisualBuilderPostMessageEvents } from \"../utils/types/postMessage.types\";\nimport { IHighlightCommentData } from \"../eventManager/useHighlightCommentIcon\";\nimport Config from \"../../configManager/configManager\";\nimport { toggleCollabPopup } from \"../generators/generateThread\";\n\nconst HighlightedCommentIcon = (props: {\n    data: IHighlightCommentData;\n}): VNode => {\n    const { data } = props;\n    const config = Config.get();\n\n    const handleCommentModal = async () => {\n        visualBuilderPostMessage?.send(\n            VisualBuilderPostMessageEvents.OPEN_FIELD_COMMENT_MODAL,\n            {\n                fieldMetadata: data?.fieldMetadata,\n                discussion: data?.discussion,\n                fieldSchema: data?.fieldSchema,\n                absolutePath: data.absolutePath,\n            }\n        );\n\n        toggleCollabPopup({ threadUid: \"\", action: \"close\" });\n        Config.set(\"collab.isFeedbackMode\", true);\n    };\n    return (\n        <div className=\"collab-icon\" onClick={handleCommentModal}>\n            <HighlightCommentIcon />\n        </div>\n    );\n};\n\nexport default HighlightedCommentIcon;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,mBAAqC;AAErC,sCAAqC;AACrC,yBAA+C;AAE/C,2BAAmB;AACnB,4BAAkC;AAwBtB;AAtBZ,IAAM,yBAAyB,CAAC,UAEnB;AACT,QAAM,EAAE,KAAK,IAAI;AACjB,QAAM,SAAS,qBAAAA,QAAO,IAAI;AAE1B,QAAM,qBAAqB,YAAY;AAhB3C;AAiBQ,0CAAAC,YAAA,mBAA0B;AAAA,MACtB,kDAA+B;AAAA,MAC/B;AAAA,QACI,eAAe,6BAAM;AAAA,QACrB,YAAY,6BAAM;AAAA,QAClB,aAAa,6BAAM;AAAA,QACnB,cAAc,KAAK;AAAA,MACvB;AAAA;AAGJ,iDAAkB,EAAE,WAAW,IAAI,QAAQ,QAAQ,CAAC;AACpD,yBAAAD,QAAO,IAAI,yBAAyB,IAAI;AAAA,EAC5C;AACA,SACI,4CAAC,SAAI,WAAU,eAAc,SAAS,oBAClC,sDAAC,qCAAqB,GAC1B;AAER;AAEA,IAAO,iCAAQ;","names":["Config","visualBuilderPostMessage"]}