{"version":3,"sources":["../../../../src/visualBuilder/listeners/mouseHover.ts"],"sourcesContent":["import { debounce, throttle } from \"lodash-es\";\nimport { getCsDataOfElement } from \"../utils/getCsDataOfElement\";\nimport { removeAddInstanceButtons } from \"../utils/multipleElementAddButton\";\nimport { generateCustomCursor } from \"../generators/generateCustomCursor\";\nimport { FieldSchemaMap } from \"../utils/fieldSchemaMap\";\nimport { isFieldDisabled } from \"../utils/isFieldDisabled\";\nimport { getFieldType } from \"../utils/getFieldType\";\n\nimport EventListenerHandlerParams from \"./types\";\nimport { VisualBuilder } from \"..\";\nimport { addHoverOutline } from \"../generators/generateHoverOutline\";\nimport { visualBuilderStyles } from \"../visualBuilder.style\";\nimport { VB_EmptyBlockParentClass } from \"../..\";\nimport Config from \"../../configManager/configManager\";\nimport { isCollabThread } from \"../generators/generateThread\";\nimport { HandleBuilderInteractionParams } from \"./mouseClick\";\nimport { appendFieldPathDropdown } from \"../generators/generateToolbar\";\nimport { VisualBuilderCslpEventDetails } from \"../types/visualBuilder.types\";\nimport { CslpData } from \"../../cslp/types/cslp.types\";\nimport { fetchEntryPermissionsAndStageDetails } from \"../utils/fetchEntryPermissionsAndStageDetails\";\n\nconst config = Config.get();\nexport interface HandleMouseHoverParams\n    extends Pick<\n        EventListenerHandlerParams,\n        \"event\" | \"overlayWrapper\" | \"visualBuilderContainer\" | \"focusedToolbar\" | \"resizeObserver\"\n    > {\n    customCursor: HTMLDivElement | null;\n}\n\ninterface AddOutlineParams {\n    editableElement: Element;\n    eventDetails: VisualBuilderCslpEventDetails;\n    content_type_uid: string;\n    fieldPath: string;\n    fieldDisabled?: boolean;\n    fieldMetadata: CslpData;\n}\n\nfunction resetCustomCursor(customCursor: HTMLDivElement | null): void {\n    if (customCursor) {\n        generateCustomCursor({\n            fieldType: \"empty\",\n            customCursor: customCursor,\n        });\n    }\n}\n\nfunction collabCustomCursor(customCursor: HTMLDivElement | null): void {\n    if (!customCursor) return;\n\n    generateCustomCursor({\n        fieldType: \"discussion\",\n        customCursor: customCursor,\n    });\n}\n\nfunction handleCursorPosition(\n    event: MouseEvent,\n    customCursor: HTMLDivElement | null\n): void {\n    if (customCursor) {\n        const mouseY = event.clientY;\n        const mouseX = event.clientX;\n\n        customCursor.style.left = `${mouseX}px`;\n        customCursor.style.top = `${mouseY}px`;\n    }\n}\n\nasync function addOutline(params?: AddOutlineParams): Promise<void> {\n    if (!params) {\n        return;\n    }\n    const {\n        editableElement,\n        eventDetails,\n        content_type_uid,\n        fieldPath,\n        fieldMetadata,\n        fieldDisabled,\n    } = params;\n    if (!editableElement) return;\n    addHoverOutline(editableElement as HTMLElement, fieldDisabled);\n    const fieldSchema = await FieldSchemaMap.getFieldSchema(\n        content_type_uid,\n        fieldPath\n    );\n    if (!fieldSchema) return;\n    const { acl: entryAcl, workflowStage: entryWorkflowStageDetails } =\n        await fetchEntryPermissionsAndStageDetails({\n            entryUid: fieldMetadata.entry_uid,\n            contentTypeUid: fieldMetadata.content_type_uid,\n            locale: fieldMetadata.locale,\n            variantUid: fieldMetadata.variant,\n        });\n    const { isDisabled } = isFieldDisabled(\n        fieldSchema,\n        eventDetails,\n        entryAcl,\n        entryWorkflowStageDetails\n    );\n    addHoverOutline(editableElement, fieldDisabled || isDisabled);\n}\n\nconst debouncedAddOutline = debounce(addOutline, 50, { trailing: true });\nconst showOutline = (params?: AddOutlineParams): Promise<void> | undefined => debouncedAddOutline(params);\n\nfunction hideDefaultCursor(): void {\n    if (\n        document?.body &&\n        !document.body.classList.contains(\n            visualBuilderStyles()[\"visual-builder__default-cursor--disabled\"]\n        )\n    )\n        document.body.classList.add(\n            visualBuilderStyles()[\"visual-builder__default-cursor--disabled\"]\n        );\n}\n\nfunction showDefaultCursor(): void {\n    if (\n        document?.body &&\n        document.body.classList.contains(\n            visualBuilderStyles()[\"visual-builder__default-cursor--disabled\"]\n        )\n    )\n        document.body.classList.remove(\n            visualBuilderStyles()[\"visual-builder__default-cursor--disabled\"]\n        );\n}\n\nexport function hideHoverOutline(\n    visualBuilderContainer: HTMLDivElement | null\n): void {\n    if (!visualBuilderContainer) {\n        return;\n    }\n    const hoverOutline = visualBuilderContainer.querySelector(\n        \".visual-builder__hover-outline\"\n    );\n    if (!hoverOutline) {\n        return;\n    }\n    hoverOutline.classList.add(\n        visualBuilderStyles()[\"visual-builder__hover-outline--hidden\"]\n    );\n}\n\nexport function hideCustomCursor(customCursor: HTMLDivElement | null): void {\n    showDefaultCursor();\n    customCursor?.classList.remove(\"visible\");\n}\n\nexport function showCustomCursor(customCursor: HTMLDivElement | null): void {\n    hideDefaultCursor();\n    if (\n        config.collab.enable &&\n        (!config.collab.isFeedbackMode || config.collab.pauseFeedback)\n    )\n        return;\n    customCursor?.classList.add(\"visible\");\n}\n\nconst debouncedRenderHoverToolbar = debounce(async (params: HandleBuilderInteractionParams) => {\n    const eventDetails = getCsDataOfElement(params.event);\n    if (\n        !eventDetails ||\n        !params.overlayWrapper ||\n        !params.visualBuilderContainer ||\n        !params.focusedToolbar\n    ) {\n        return;\n    }\n\n    appendFieldPathDropdown(eventDetails, params.focusedToolbar, {\n        isHover: true\n    });\n}, 50, { trailing: true });\n\nexport const showHoverToolbar = async (params: HandleBuilderInteractionParams) => await debouncedRenderHoverToolbar(params);\n\nfunction isOverlay(target: HTMLElement): boolean {\n    return target.classList.contains(\"visual-builder__overlay\");\n}\n\nfunction isContentEditable(target: HTMLElement): boolean {\n    if (target.hasAttribute(\"contenteditable\"))\n        return target.getAttribute(\"contenteditable\") === \"true\";\n    return false;\n}\n\nfunction isFieldPathDropdown(target: HTMLElement): boolean {\n    return target.classList.contains(\"visual-builder__focused-toolbar__field-label-wrapper\") || target.classList.contains(\"visual-builder__focused-toolbar__field-label-wrapper__current-field\");\n}\n\nfunction isFieldPathParent(target: HTMLElement): boolean {\n    return target.classList.contains(\"visual-builder__focused-toolbar__field-label-wrapper__parent-field\");\n}\n\nconst throttledMouseHover = throttle(async (params: HandleMouseHoverParams) => {\n    const eventDetails = getCsDataOfElement(params.event);\n    const eventTarget = params.event.target as HTMLElement | null;\n\n    if (config?.collab.enable && config?.collab.pauseFeedback) {\n        hideCustomCursor(params.customCursor);\n        return;\n    }\n    if (!eventDetails) {\n        if (\n            eventTarget &&\n            (isOverlay(eventTarget) ||\n                isContentEditable(eventTarget) ||\n                isCollabThread(eventTarget))\n        ) {\n            handleCursorPosition(params.event, params.customCursor);\n            hideCustomCursor(params.customCursor);\n            return;\n        }\n        if (\n            eventTarget &&\n            (isFieldPathDropdown(eventTarget) || isFieldPathParent(eventTarget))\n        ) {\n            params.customCursor && hideCustomCursor(params.customCursor);\n            showOutline();\n            showHoverToolbar({\n                event: params.event,\n                overlayWrapper: params.overlayWrapper,\n                visualBuilderContainer: params.visualBuilderContainer,\n                previousSelectedEditableDOM:\n                    VisualBuilder.VisualBuilderGlobalState.value\n                        .previousSelectedEditableDOM,\n                focusedToolbar: params.focusedToolbar,\n                resizeObserver: params.resizeObserver,\n            });\n        }\n        if (!config?.collab.enable) {\n            resetCustomCursor(params.customCursor);\n        }\n        removeAddInstanceButtons({\n            eventTarget: params.event.target,\n            visualBuilderContainer: params.visualBuilderContainer,\n            overlayWrapper: params.overlayWrapper,\n        });\n        handleCursorPosition(params.event, params.customCursor);\n        if (config?.collab.enable && config?.collab.isFeedbackMode) {\n            showCustomCursor(params.customCursor);\n            collabCustomCursor(params.customCursor);\n        }\n        return;\n    }\n\n    const { editableElement, fieldMetadata } = eventDetails;\n    const { content_type_uid, fieldPath } = fieldMetadata;\n\n    if (\n        VisualBuilder.VisualBuilderGlobalState.value\n            .previousSelectedEditableDOM &&\n        VisualBuilder.VisualBuilderGlobalState.value.previousSelectedEditableDOM.isSameNode(\n            editableElement\n        )\n    ) {\n        hideCustomCursor(params.customCursor);\n        return;\n    }\n\n    if (params.customCursor) {\n        const elementUnderCursor = document.elementFromPoint(\n            params.event.clientX,\n            params.event.clientY\n        );\n        if (elementUnderCursor) {\n            if (\n                elementUnderCursor.nodeName === \"A\" ||\n                elementUnderCursor.nodeName === \"BUTTON\"\n            ) {\n                elementUnderCursor.classList.add(\n                    visualBuilderStyles()[\"visual-builder__no-cursor-style\"]\n                );\n            }\n        }\n\n        if (config?.collab.enable && config?.collab.isFeedbackMode) {\n            collabCustomCursor(params.customCursor);\n            handleCursorPosition(params.event, params.customCursor);\n            showCustomCursor(params.customCursor);\n            return;\n        } else if (config?.collab.enable && !config?.collab.isFeedbackMode) {\n            hideCustomCursor(params.customCursor);\n            return;\n        }\n\n        if (\n            VisualBuilder.VisualBuilderGlobalState.value\n                .previousHoveredTargetDOM !== editableElement\n        ) {\n            resetCustomCursor(params.customCursor);\n            removeAddInstanceButtons({\n                eventTarget: params.event.target,\n                visualBuilderContainer: params.visualBuilderContainer,\n                overlayWrapper: params.overlayWrapper,\n            });\n        }\n\n        if (!FieldSchemaMap.hasFieldSchema(content_type_uid, fieldPath)) {\n            generateCustomCursor({\n                fieldType: \"loading\",\n                customCursor: params.customCursor,\n            });\n        }\n\n        // we can generate the cursor asynchronously\n        generateCursor({\n            eventDetails,\n            customCursor: params.customCursor,\n        });\n\n        handleCursorPosition(params.event, params.customCursor);\n        showCustomCursor(params.customCursor);\n    }\n\n    if (\n        !editableElement.classList.contains(VB_EmptyBlockParentClass) &&\n        !editableElement.classList.contains(\"visual-builder__empty-block\")\n    ) {\n        showOutline({\n            editableElement,\n            eventDetails,\n            content_type_uid,\n            fieldPath,\n            fieldMetadata,\n        });\n        const isFocussed= VisualBuilder.VisualBuilderGlobalState.value.isFocussed;\n        if(!isFocussed) {\n            showHoverToolbar({\n            event: params.event,\n            overlayWrapper: params.overlayWrapper,\n            visualBuilderContainer: params.visualBuilderContainer,\n            previousSelectedEditableDOM:\n                VisualBuilder.VisualBuilderGlobalState.value\n                    .previousSelectedEditableDOM,\n                focusedToolbar: params.focusedToolbar,\n                resizeObserver: params.resizeObserver,\n            });\n        }\n    }\n\n    if (\n        VisualBuilder.VisualBuilderGlobalState.value\n            .previousHoveredTargetDOM === editableElement\n    ) {\n        return;\n    }\n\n    VisualBuilder.VisualBuilderGlobalState.value.previousHoveredTargetDOM =\n        editableElement;\n}, 10);\n\nasync function generateCursor({\n    eventDetails,\n    customCursor,\n}: {\n    eventDetails: VisualBuilderCslpEventDetails;\n    customCursor: HTMLDivElement | null;\n}) {\n    if (!customCursor) return;\n    const { fieldMetadata } = eventDetails;\n    const fieldSchema = await FieldSchemaMap.getFieldSchema(\n        fieldMetadata.content_type_uid,\n        fieldMetadata.fieldPath\n    );\n    if (!fieldSchema) {\n        return;\n    }\n    const { acl: entryAcl, workflowStage: entryWorkflowStageDetails } =\n        await fetchEntryPermissionsAndStageDetails({\n            entryUid: fieldMetadata.entry_uid,\n            contentTypeUid: fieldMetadata.content_type_uid,\n            locale: fieldMetadata.locale,\n            variantUid: fieldMetadata.variant,\n        });\n    const { isDisabled: fieldDisabled } = isFieldDisabled(\n        fieldSchema,\n        eventDetails,\n        entryAcl,\n        entryWorkflowStageDetails\n    );\n    const fieldType = getFieldType(fieldSchema);\n    generateCustomCursor({\n        fieldType,\n        customCursor,\n        fieldDisabled,\n    });\n}\n\nconst handleMouseHover = async (\n    params: HandleMouseHoverParams\n): Promise<void> => await throttledMouseHover(params);\n\nexport default handleMouseHover;\n"],"mappings":";;;AAAA,SAAS,UAAU,gBAAgB;AACnC,SAAS,0BAA0B;AACnC,SAAS,gCAAgC;AACzC,SAAS,4BAA4B;AACrC,SAAS,sBAAsB;AAC/B,SAAS,uBAAuB;AAChC,SAAS,oBAAoB;AAG7B,SAAS,qBAAqB;AAC9B,SAAS,uBAAuB;AAChC,SAAS,2BAA2B;AACpC,SAAS,gCAAgC;AACzC,OAAO,YAAY;AACnB,SAAS,sBAAsB;AAE/B,SAAS,+BAA+B;AAGxC,SAAS,4CAA4C;AAErD,IAAM,SAAS,OAAO,IAAI;AAkB1B,SAAS,kBAAkB,cAA2C;AAClE,MAAI,cAAc;AACd,yBAAqB;AAAA,MACjB,WAAW;AAAA,MACX;AAAA,IACJ,CAAC;AAAA,EACL;AACJ;AAEA,SAAS,mBAAmB,cAA2C;AACnE,MAAI,CAAC,aAAc;AAEnB,uBAAqB;AAAA,IACjB,WAAW;AAAA,IACX;AAAA,EACJ,CAAC;AACL;AAEA,SAAS,qBACL,OACA,cACI;AACJ,MAAI,cAAc;AACd,UAAM,SAAS,MAAM;AACrB,UAAM,SAAS,MAAM;AAErB,iBAAa,MAAM,OAAO,GAAG,MAAM;AACnC,iBAAa,MAAM,MAAM,GAAG,MAAM;AAAA,EACtC;AACJ;AAEA,eAAe,WAAW,QAA0C;AAChE,MAAI,CAAC,QAAQ;AACT;AAAA,EACJ;AACA,QAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,IAAI;AACJ,MAAI,CAAC,gBAAiB;AACtB,kBAAgB,iBAAgC,aAAa;AAC7D,QAAM,cAAc,MAAM,eAAe;AAAA,IACrC;AAAA,IACA;AAAA,EACJ;AACA,MAAI,CAAC,YAAa;AAClB,QAAM,EAAE,KAAK,UAAU,eAAe,0BAA0B,IAC5D,MAAM,qCAAqC;AAAA,IACvC,UAAU,cAAc;AAAA,IACxB,gBAAgB,cAAc;AAAA,IAC9B,QAAQ,cAAc;AAAA,IACtB,YAAY,cAAc;AAAA,EAC9B,CAAC;AACL,QAAM,EAAE,WAAW,IAAI;AAAA,IACnB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA,kBAAgB,iBAAiB,iBAAiB,UAAU;AAChE;AAEA,IAAM,sBAAsB,SAAS,YAAY,IAAI,EAAE,UAAU,KAAK,CAAC;AACvE,IAAM,cAAc,CAAC,WAAyD,oBAAoB,MAAM;AAExG,SAAS,oBAA0B;AAC/B,MACI,UAAU,QACV,CAAC,SAAS,KAAK,UAAU;AAAA,IACrB,oBAAoB,EAAE,0CAA0C;AAAA,EACpE;AAEA,aAAS,KAAK,UAAU;AAAA,MACpB,oBAAoB,EAAE,0CAA0C;AAAA,IACpE;AACR;AAEA,SAAS,oBAA0B;AAC/B,MACI,UAAU,QACV,SAAS,KAAK,UAAU;AAAA,IACpB,oBAAoB,EAAE,0CAA0C;AAAA,EACpE;AAEA,aAAS,KAAK,UAAU;AAAA,MACpB,oBAAoB,EAAE,0CAA0C;AAAA,IACpE;AACR;AAEO,SAAS,iBACZ,wBACI;AACJ,MAAI,CAAC,wBAAwB;AACzB;AAAA,EACJ;AACA,QAAM,eAAe,uBAAuB;AAAA,IACxC;AAAA,EACJ;AACA,MAAI,CAAC,cAAc;AACf;AAAA,EACJ;AACA,eAAa,UAAU;AAAA,IACnB,oBAAoB,EAAE,uCAAuC;AAAA,EACjE;AACJ;AAEO,SAAS,iBAAiB,cAA2C;AACxE,oBAAkB;AAClB,gBAAc,UAAU,OAAO,SAAS;AAC5C;AAEO,SAAS,iBAAiB,cAA2C;AACxE,oBAAkB;AAClB,MACI,OAAO,OAAO,WACb,CAAC,OAAO,OAAO,kBAAkB,OAAO,OAAO;AAEhD;AACJ,gBAAc,UAAU,IAAI,SAAS;AACzC;AAEA,IAAM,8BAA8B,SAAS,OAAO,WAA2C;AAC3F,QAAM,eAAe,mBAAmB,OAAO,KAAK;AACpD,MACI,CAAC,gBACD,CAAC,OAAO,kBACR,CAAC,OAAO,0BACR,CAAC,OAAO,gBACV;AACE;AAAA,EACJ;AAEA,0BAAwB,cAAc,OAAO,gBAAgB;AAAA,IACzD,SAAS;AAAA,EACb,CAAC;AACL,GAAG,IAAI,EAAE,UAAU,KAAK,CAAC;AAElB,IAAM,mBAAmB,OAAO,WAA2C,MAAM,4BAA4B,MAAM;AAE1H,SAAS,UAAU,QAA8B;AAC7C,SAAO,OAAO,UAAU,SAAS,yBAAyB;AAC9D;AAEA,SAAS,kBAAkB,QAA8B;AACrD,MAAI,OAAO,aAAa,iBAAiB;AACrC,WAAO,OAAO,aAAa,iBAAiB,MAAM;AACtD,SAAO;AACX;AAEA,SAAS,oBAAoB,QAA8B;AACvD,SAAO,OAAO,UAAU,SAAS,sDAAsD,KAAK,OAAO,UAAU,SAAS,qEAAqE;AAC/L;AAEA,SAAS,kBAAkB,QAA8B;AACrD,SAAO,OAAO,UAAU,SAAS,oEAAoE;AACzG;AAEA,IAAM,sBAAsB,SAAS,OAAO,WAAmC;AAC3E,QAAM,eAAe,mBAAmB,OAAO,KAAK;AACpD,QAAM,cAAc,OAAO,MAAM;AAEjC,MAAI,QAAQ,OAAO,UAAU,QAAQ,OAAO,eAAe;AACvD,qBAAiB,OAAO,YAAY;AACpC;AAAA,EACJ;AACA,MAAI,CAAC,cAAc;AACf,QACI,gBACC,UAAU,WAAW,KAClB,kBAAkB,WAAW,KAC7B,eAAe,WAAW,IAChC;AACE,2BAAqB,OAAO,OAAO,OAAO,YAAY;AACtD,uBAAiB,OAAO,YAAY;AACpC;AAAA,IACJ;AACA,QACI,gBACC,oBAAoB,WAAW,KAAK,kBAAkB,WAAW,IACpE;AACE,aAAO,gBAAgB,iBAAiB,OAAO,YAAY;AAC3D,kBAAY;AACZ,uBAAiB;AAAA,QACb,OAAO,OAAO;AAAA,QACd,gBAAgB,OAAO;AAAA,QACvB,wBAAwB,OAAO;AAAA,QAC/B,6BACI,cAAc,yBAAyB,MAClC;AAAA,QACT,gBAAgB,OAAO;AAAA,QACvB,gBAAgB,OAAO;AAAA,MAC3B,CAAC;AAAA,IACL;AACA,QAAI,CAAC,QAAQ,OAAO,QAAQ;AACxB,wBAAkB,OAAO,YAAY;AAAA,IACzC;AACA,6BAAyB;AAAA,MACrB,aAAa,OAAO,MAAM;AAAA,MAC1B,wBAAwB,OAAO;AAAA,MAC/B,gBAAgB,OAAO;AAAA,IAC3B,CAAC;AACD,yBAAqB,OAAO,OAAO,OAAO,YAAY;AACtD,QAAI,QAAQ,OAAO,UAAU,QAAQ,OAAO,gBAAgB;AACxD,uBAAiB,OAAO,YAAY;AACpC,yBAAmB,OAAO,YAAY;AAAA,IAC1C;AACA;AAAA,EACJ;AAEA,QAAM,EAAE,iBAAiB,cAAc,IAAI;AAC3C,QAAM,EAAE,kBAAkB,UAAU,IAAI;AAExC,MACI,cAAc,yBAAyB,MAClC,+BACL,cAAc,yBAAyB,MAAM,4BAA4B;AAAA,IACrE;AAAA,EACJ,GACF;AACE,qBAAiB,OAAO,YAAY;AACpC;AAAA,EACJ;AAEA,MAAI,OAAO,cAAc;AACrB,UAAM,qBAAqB,SAAS;AAAA,MAChC,OAAO,MAAM;AAAA,MACb,OAAO,MAAM;AAAA,IACjB;AACA,QAAI,oBAAoB;AACpB,UACI,mBAAmB,aAAa,OAChC,mBAAmB,aAAa,UAClC;AACE,2BAAmB,UAAU;AAAA,UACzB,oBAAoB,EAAE,iCAAiC;AAAA,QAC3D;AAAA,MACJ;AAAA,IACJ;AAEA,QAAI,QAAQ,OAAO,UAAU,QAAQ,OAAO,gBAAgB;AACxD,yBAAmB,OAAO,YAAY;AACtC,2BAAqB,OAAO,OAAO,OAAO,YAAY;AACtD,uBAAiB,OAAO,YAAY;AACpC;AAAA,IACJ,WAAW,QAAQ,OAAO,UAAU,CAAC,QAAQ,OAAO,gBAAgB;AAChE,uBAAiB,OAAO,YAAY;AACpC;AAAA,IACJ;AAEA,QACI,cAAc,yBAAyB,MAClC,6BAA6B,iBACpC;AACE,wBAAkB,OAAO,YAAY;AACrC,+BAAyB;AAAA,QACrB,aAAa,OAAO,MAAM;AAAA,QAC1B,wBAAwB,OAAO;AAAA,QAC/B,gBAAgB,OAAO;AAAA,MAC3B,CAAC;AAAA,IACL;AAEA,QAAI,CAAC,eAAe,eAAe,kBAAkB,SAAS,GAAG;AAC7D,2BAAqB;AAAA,QACjB,WAAW;AAAA,QACX,cAAc,OAAO;AAAA,MACzB,CAAC;AAAA,IACL;AAGA,mBAAe;AAAA,MACX;AAAA,MACA,cAAc,OAAO;AAAA,IACzB,CAAC;AAED,yBAAqB,OAAO,OAAO,OAAO,YAAY;AACtD,qBAAiB,OAAO,YAAY;AAAA,EACxC;AAEA,MACI,CAAC,gBAAgB,UAAU,SAAS,wBAAwB,KAC5D,CAAC,gBAAgB,UAAU,SAAS,6BAA6B,GACnE;AACE,gBAAY;AAAA,MACR;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ,CAAC;AACD,UAAM,aAAY,cAAc,yBAAyB,MAAM;AAC/D,QAAG,CAAC,YAAY;AACZ,uBAAiB;AAAA,QACjB,OAAO,OAAO;AAAA,QACd,gBAAgB,OAAO;AAAA,QACvB,wBAAwB,OAAO;AAAA,QAC/B,6BACI,cAAc,yBAAyB,MAClC;AAAA,QACL,gBAAgB,OAAO;AAAA,QACvB,gBAAgB,OAAO;AAAA,MAC3B,CAAC;AAAA,IACL;AAAA,EACJ;AAEA,MACI,cAAc,yBAAyB,MAClC,6BAA6B,iBACpC;AACE;AAAA,EACJ;AAEA,gBAAc,yBAAyB,MAAM,2BACzC;AACR,GAAG,EAAE;AAEL,eAAe,eAAe;AAAA,EAC1B;AAAA,EACA;AACJ,GAGG;AACC,MAAI,CAAC,aAAc;AACnB,QAAM,EAAE,cAAc,IAAI;AAC1B,QAAM,cAAc,MAAM,eAAe;AAAA,IACrC,cAAc;AAAA,IACd,cAAc;AAAA,EAClB;AACA,MAAI,CAAC,aAAa;AACd;AAAA,EACJ;AACA,QAAM,EAAE,KAAK,UAAU,eAAe,0BAA0B,IAC5D,MAAM,qCAAqC;AAAA,IACvC,UAAU,cAAc;AAAA,IACxB,gBAAgB,cAAc;AAAA,IAC9B,QAAQ,cAAc;AAAA,IACtB,YAAY,cAAc;AAAA,EAC9B,CAAC;AACL,QAAM,EAAE,YAAY,cAAc,IAAI;AAAA,IAClC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA,QAAM,YAAY,aAAa,WAAW;AAC1C,uBAAqB;AAAA,IACjB;AAAA,IACA;AAAA,IACA;AAAA,EACJ,CAAC;AACL;AAEA,IAAM,mBAAmB,OACrB,WACgB,MAAM,oBAAoB,MAAM;AAEpD,IAAO,qBAAQ;","names":[]}